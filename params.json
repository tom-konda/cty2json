{"name":"Cty2JSON","tagline":"This JavaScript library converts from .cty file ( Micropolis format ) to JSON.","body":"Cty2JSON: https://github.com/tom-konda/cty2json\r\n\r\n## About\r\nThis JavaScript library converts from .cty file ( Micropolis format ) to JSON.\r\n\r\n##Support Browsers\r\n* Firefox, Chromium\r\n* IE 11, Google Chrome, Opera and Safari maybe works well.\r\n\r\n##Usage\r\n### Library\r\n#### Browser\r\n\r\n```html:browser.html\r\n<!DOCTYPE html>\r\n<html>\r\n  <head>\r\n    <title>Demo</title>\r\n    <script src=\"../../dist/cty2json.js\"></script>\r\n    <script>\r\n      'use strict';\r\n      let xhr = new win.XMLHttpRequest();\r\n\r\n      xhr.onreadystatechange = function() {\r\n        if (xhr.readyState == 4) {\r\n          let json = Cty2JSON.analyzeData(xhr.response);\r\n          let cityData = JSON.parse(json);\r\n        }\r\n      }\r\n\r\n      xhr.open('GET', dataURLSch);\r\n      xhr.responseType = 'arraybuffer';\r\n      xhr.send();\r\n    </script>\r\n  </head>\r\n</html>\r\n```\r\n\r\n#### Web worker\r\n\r\n```js:worker.js\r\nimportScripts('../../dist/cty2json.js');\r\n\r\nself.addEventListener(\r\n    'message',\r\n    function(event){\r\n        let cityData = event.data;\r\n        self.postMessage(self.Cty2JSON.analyzeData(cityData));\r\n        self.close();\r\n    },\r\n    false\r\n);\r\n```\r\n\r\n#### Node.js\r\n\r\n```js:node.js\r\nrequire('../../dist/cty2json');\r\n\r\nlet file = fs.readFileSync(`PATH_TO_CTYFILE/test.cty`);\r\n\r\n// Convert from buffer to Uint8Array\r\nlet uint8arr = new Uint8Array(file);\r\nlet json = Cty2JSON.analyzeData(uint8arr.buffer);\r\n```\r\n\r\n##Output Format\r\n```\r\n{\r\n  fileSize : Integer,\r\n  historyDatas : {\r\n    com : [\r\n      0-255, // 240 times\r\n    ],\r\n    cri : [\r\n      0-255, // 240 times\r\n    ],\r\n    ind : [\r\n      0-255, // 240 times\r\n    ],\r\n    pol : [\r\n      0-255, // 240 times\r\n    ],\r\n    res : [\r\n      0-255, // 240 times\r\n    ],\r\n    val : [\r\n      0-255, // 240 times\r\n    ],\r\n  },\r\n  miscDatas : {\r\n    CPopulation : Integer,\r\n    CValve : Integer,\r\n    IPopulation : Integer,\r\n    IValve : Integer,\r\n    RPopulation : Integer,\r\n    RValve : Integer,\r\n    autoBudget : 0 or 1,\r\n    autoBulldoze : 0 or 1,\r\n    autoGoto : 0 or 1,\r\n    budget : 0 or 1,\r\n    cityClass : Integer,\r\n    cityScore : Integer,\r\n    cityTime : Integer,\r\n    crimeAve : Integer,\r\n    crimeRamp : Integer,\r\n    fireCovered : 0-65536,\r\n    gameLevel : 0-2,\r\n    gameSpeed : 0-4,\r\n    landValueAve : Integer,\r\n    policeCovered : 0-65536,\r\n    polluteRamp : Integer,\r\n    pollutionAve : Integer,\r\n    roadCovered : 0-65536,\r\n    soundOn : 0 or 1,\r\n    tax : 0-20\r\n  },\r\n  tileDatas : [\r\n    [\r\n      {\r\n        animated : 0 or 1,\r\n        building : 0-1023,\r\n        bulldozable : 0 or 1,\r\n        combustible : 0 or 1,\r\n        conductive : 0 or 1,\r\n        zoneCenter : 0 or 1\r\n      }, {\r\n      }, // 120 times\r\n    ], [\r\n    ], // 100 times\r\n  ], \r\n}\r\n```\r\n\r\n##License\r\nLicensed under the GPLv3\r\n","google":"UA-12732179-5","note":"Don't delete this file! It's used internally to help with page regeneration."}